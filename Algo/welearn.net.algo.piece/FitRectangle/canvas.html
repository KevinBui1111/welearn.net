<!DOCTYPE html>
<html>
<body>
<h1>HTML5 Canvas</h1>

<canvas id="myCanvas" width="550" height="550" style="border:0px solid grey"></canvas>

<script>
    const canvas = document.getElementById("myCanvas");
    const ctx = canvas.getContext("2d");
    // Cartesian coordinate system
    ctx.scale(1, -1);
    ctx.translate(0, -canvas.height);
    // margin
    ctx.translate(20.5, 20.5);

    drawAxis();
    drawAxisNumber();

    ctx.scale(50, 50);
    ctx.globalAlpha = 0.3;
    drawRect("0 7 4 2");
    drawRect("4 10 4 2");
    drawRect("6 5 3 4");
    drawRect("2 4 1 4");
    drawRect("3 4 2 1");
    drawRect("6 8 4 2");

    function drawAxisNumber() {
        ctx.save();
        // ctx.scale(1, -1);
        // ctx.translate(-5, 20);
        ctx.transform(1, 0, 0, -1, -5, -20);

        // draw number horizontal
        ctx.font = "18px san-serif";
        let size = canvas.height - 50;
        for (let i = 0; i < 11; ++i) {
            let x = i * size / 10;
            ctx.fillText(i, x, 0);
        }

        // draw number vertical
        ctx.translate(-15, -15);
        for (let i = 0; i < 11; ++i) {
            let x = i * size / 10;
            ctx.fillText(i, 0, -x);
        }
        ctx.restore();
    }

    function drawAxis() {
        ctx.save();
        ctx.globalAlpha = 0.5;
        ctx.setLineDash([1, 4])
        ctx.lineWidth = 1;

        let size = canvas.height - 50;

        for (let i = 0; i < 11; ++i) {
            let y = i * size / 10;

            // draw horizontal line
            ctx.beginPath();
            ctx.moveTo(0, y);
            ctx.lineTo(size, y);
            ctx.stroke();

            // draw vertical line
            ctx.beginPath();
            ctx.moveTo(y, 0);
            ctx.lineTo(y, size);
            ctx.stroke();
        }
        ctx.restore();
    }

    function drawRect(x, y, w, h) {
        if (y === undefined) {
            let p = x.split(' ');
            [x, y, w, h] = [p[0], p[1], p[2], p[3]];
        }
        ctx.save();
        ctx.translate(x, y);
        ctx.scale(1, -1);
        ctx.fillRect(0, 0, w, h);
        ctx.restore();
    }
</script>

</body>
</html>
